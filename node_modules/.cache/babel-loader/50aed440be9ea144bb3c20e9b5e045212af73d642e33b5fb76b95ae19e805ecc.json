{"ast":null,"code":"import _regeneratorRuntime from\"/Users/saipalutla/Documents/GVSU/Winter 2023/CIS 658/AudioHub/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/saipalutla/Documents/GVSU/Winter 2023/CIS 658/AudioHub/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/saipalutla/Documents/GVSU/Winter 2023/CIS 658/AudioHub/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import\"bootstrap/dist/css/bootstrap.min.css\";// import \"bootstrap/dist/css/bootstrap.min.css\"\nimport axios from'axios';import{useNavigate}from\"react-router-dom\";import NavBar from'./NavBar';import\"../App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var navigate=useNavigate();function handleEmailChange(event){setEmail(event.target.value);}function handlePassword(event){setPassword(event.target.value);}var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return axios.post('http://localhost:8000/login',{email:email,password:password});case 4:response=_context.sent;if(response.status===200){localStorage.setItem('jwtToken',response.data.token);navigate(\"/audio\");console.log(\"yes\");}if(response.status===400||response.status===401){console.log('haha error');}_context.next=14;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);if(!(_context.t0.response.status===400)){_context.next=14;break;}//console.log(error.response.data.message)\nsetError(_context.t0.response.data.message);return _context.abrupt(\"return\");case 14:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"maincontainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Auth-form-container\",children:/*#__PURE__*/_jsx(\"form\",{className:\"Auth-form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Auth-form-content\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"Auth-form-title\",children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control mt-1\",placeholder:\"Enter email\",value:email,onChange:handleEmailChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control mt-1\",placeholder:\"Enter password\",value:password,onChange:handlePassword})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger my-3\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2 mt-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:handleLogin,children:\"Submit\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"forgot-password text-right mt-2\",children:[\"Forgot \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"password?\"})]})]})})})})]});}","map":{"version":3,"names":["React","useState","axios","useNavigate","NavBar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","props","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","error","setError","navigate","handleEmailChange","event","target","value","handlePassword","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","preventDefault","post","sent","status","localStorage","setItem","data","token","console","log","t0","message","abrupt","stop","_x","apply","arguments","children","className","type","placeholder","onChange","onClick","href"],"sources":["/Users/saipalutla/Documents/GVSU/Winter 2023/CIS 658/AudioHub/src/components/login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n// import \"bootstrap/dist/css/bootstrap.min.css\"\nimport axios from 'axios';\nimport { useNavigate } from \"react-router-dom\";\nimport NavBar from './NavBar';\nimport \"../App.css\";\n\n\n\nexport default function Login(props) {\n\n\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [error, setError] = useState('')\n\n  const navigate = useNavigate();\n\n  function handleEmailChange(event) {\n    setEmail(event.target.value);\n  }\n\n  function handlePassword(event) {\n    \n    setPassword(event.target.value);\n  }\n\n \n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:8000/login', {\n        email: email,\n        password: password,\n        \n      });\n      \n      if(response.status === 200) {\n        localStorage.setItem('jwtToken', response.data.token);\n          navigate(\"/audio\");\n          console.log(\"yes\")\n      }\n      if (response.status === 400 || response.status === 401) {\n        console.log('haha error')\n      }\n      \n    } catch (error) {\n      if(error.response.status === 400) {\n        //console.log(error.response.data.message)\n\n        setError(error.response.data.message)\n        return;\n      }\n      \n    }\n  };\n\n  return (\n    <>\n     <NavBar/>\n    <div className=\"maincontainer\">\n     \n    <div className=\"Auth-form-container\">\n      <form className=\"Auth-form\">\n        <div className=\"Auth-form-content\">\n          <h3 className=\"Auth-form-title\">Sign In</h3>\n          <div className=\"form-group mt-3\">\n            <label>Email address</label>\n            <input\n              type=\"email\"\n              className=\"form-control mt-1\"\n              placeholder=\"Enter email\"\n              value={email}\n              onChange={handleEmailChange}\n              \n            />\n          </div>\n          <div className=\"form-group mt-3\">\n            <label>Password</label>\n            <input\n              type=\"password\"\n              className=\"form-control mt-1\"\n              placeholder=\"Enter password\"\n              value={password}\n              onChange={handlePassword}\n            />\n          </div>\n          {error && <div className=\"alert alert-danger my-3\">{error}</div>}\n          <div className=\"d-grid gap-2 mt-3\">\n            <button type=\"submit\" className=\"btn btn-primary\" onClick={handleLogin}>\n              Submit\n            </button>\n          </div>\n          <p className=\"forgot-password text-right mt-2\">\n            Forgot <a href=\"#\">password?</a>\n          </p>\n        </div>\n      </form>\n    </div>\n    </div>\n    </>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}